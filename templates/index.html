{% extends "base.html" %}
{% load static %}
{% load heroicons %}
{% load ui %}
{% load time %}
{% load urlparse %}

{% block content %}
<div class="text-center mt-8 sm:mt-16">
  <img
    src="{% static 'me.png' %}"
    width="250"
    height="250"
    alt="A picture of Josh"
    class="rounded-full mx-auto drop-shadow-md h-56 w-56 sm:h-72 sm:w-72"
  />
  <h1 class="mt-4 text-3xl md:text-5xl leading-tighter font-bold tracking-tight">
    👋 Hi, my name is Josh.
  </h1>
  <p class="mt-4 text-xl md:text-2xl">
    I'm a web developer in Tuscaloosa, AL.
  </p>
</div>
<div class="mt-16">
  <div class="flex items-center justify-between">
    <h2 class="text-xl sm:text-2xl font-semibold tracking-tight text-gray-900">
      📝 Recent entries
    </h2>
    <a href="{% url 'blog:index' %}" class="text-xs sm:text-sm text-gray-600 hover:text-blue-500 font-medium tracking-tighter hover:underline">
      View all
    </a>
  </div>
  <div class="mt-4 space-y-8">
    {% for entry in entries %}
    <article class="group relative">
      <h3 class="text-lg font-semibold leading-6 text-gray-800 group-hover:text-blue-500 group-hover:underline">
        <a href="{{ entry.get_absolute_url }}">
          <span class="absolute inset-0"></span>
          {{ entry.title }}
        </a>
      </h3>
      <time datetime="{{ entry.created_at }}" class="text-gray-500 text-xs mt-2">
        {{ entry.created_at|date:"F j, Y" }}
      </time>
      {% if entry.is_draft %}
      <span class="mt-1 ml-2 inline-flex items-center rounded-md bg-red-100 px-2 py-1 text-xs font-medium text-red-700">
        Draft
      </span>
      {% endif %}
      <div class="mt-1 flex items-center gap-x-4">
        {% if entry.tags %}
        {% for tag in entry.tags.all %}
        <a href="{{ tag.get_absolute_url }}" class="inline-flex items-center rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-600/10">
          {{ tag.name }}
        </a>
        {% endfor %}
        {% endif %}
      </div>
      <p class="mt-2 line-clamp-3 text-sm leading-6 text-gray-600">
        {{ entry.summary_rendered }}
      </p>
    </article>
    {% endfor %}
  </div>
</div>
<div class="mt-16 grid grid-cols-1 sm:grid-cols-2 gap-12">
  <div class="">
    <h2 class="font-semibold text-lg leading-6 text-gray-900 flex sm:justify-end">
      🎮 What I'm playing
    </h2>
    <ul class="space-y-2.5 mt-2">
      {% for game in games.games %}
      <li>
        <a href="https://store.steampowered.com/app/{{ game.appid }}" class="group flex sm:justify-end items-start gap-2" target="_blank" rel="noopener noreferrer">
          <span class="text-sm text-gray-600 group-hover:text-blue-500 font-medium tracking-tighter group-hover:underline leading-none">
            {{ game.name }}
          </span>
          <img src="http://media.steampowered.com/steamcommunity/public/images/apps/{{ game.appid }}/{{ game.img_icon_url }}.jpg" class="order-first sm:order-last" />
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div>
    <h2 class="font-semibold text-lg leading-6 text-gray-900 flex">
      What I'm reading
      <span class="order-first mr-1 sm:mr-0 sm:ml-1 sm:order-last">📖</span>
    </h2>
    <ul class="space-y-4 mt-2">
    {% for post in posts.entries %}
      <li>
        <a href="{{ post.url }}" class="group flex flex-col space-y-0.5" target="_blank" rel="noopener noreferrer">
          <span class="text-gray-700 group-hover:text-blue-500 font-medium leading-5 tracking-tighter group-hover:underline">
            {{ post.title }}
          </span>
          <span class="text-xs pt-1">
            {{ post.author }}
          </span>
          <span class="flex items-center text-xs text-gray-500 group-hover:text-gray-700">
            {% heroicon_mini "arrow-top-right-on-square" class="h-3 w-3 mr-1" %}
            {{ post.url|domain }}
            {% if post.url|domain != post.feed.site_url|domain %}
            (via {{ post.feed.site_url|domain }})
            {% endif %}
          </span>
        </a>
      </li>
    {% endfor %}
    </ul>
  </div>
</div>
{% endblock content %}
